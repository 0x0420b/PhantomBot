(function(){var e=$.inidb.exists("tamagotchiPlayDateSettings","funLevelIncr")?parseFloat($.inidb.exists("tamagotchiPlayDateSettings","funLevelIncr")):3,a=$.inidb.exists("tamagotchiPlayDateSettings","expLevelIncr")?parseFloat($.inidb.exists("tamagotchiPlayDateSettings","expLevelIncr")):.25,t=$.inidb.exists("tamagotchiPlayDateSettings","foodLevelDecr")?parseFloat($.inidb.exists("tamagotchiPlayDateSettings","foodLevelDecr")):.5,n=0,i=-1;function o(){for(var e=1;$.lang.exists("tgplaydate.playdatelocation."+e);e++){n++}$.consoleLn($.lang.get("tgplaydate.console.loaded",n))}function l(){var e;do{e=$.randRange(1,n)}while(e==i);i=e;return"tgplaydate.playdatelocation."+e}function g(n,i){var o=$.tamagotchi.getByOwner(n),g=$.tamagotchi.getByOwner(i);if(!o){$.tamagotchi.say404(n);return}if(!g){$.say($.whisperPrefix(n)+$.lang.get("tgplaydate.target.404",$.username.resolve(i)));return}if(g.foodLevel<1+t){g.sayFoodLevelTooLow();return}$.say($.lang.get(l(),g.name,o.name));o.incrFunLevel(e).incrExpLevel(a).decrFoodLevel(t).save();g.incrFunLevel(e).incrExpLevel(a).decrFoodLevel(t).save()}$.bind("command",function(e){var a=e.getCommand(),t=e.getSender().toLowerCase(),n=e.getArgs();if(a.equalsIgnoreCase("tgplaydate")){if(n.length!=1||t.equalsIgnoreCase(n[0])){$.say($.whisperPrefix(t)+$.lang.get("tgplaydate.usage"));return}g(t,(n[0]+"").toLowerCase())}});$.bind("initReady",function(){if($.bot.isModuleEnabled("./games/tamagotchi/tg-playDate.js")){o();$.registerChatCommand("./games/tamagotchi/tg-playDate.js","tgplaydate",6)}})})();