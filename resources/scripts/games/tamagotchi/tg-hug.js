(function(){var e=.1,a=.25,g=.1;$.bind("command",function(t){var n=t.getCommand(),r=t.getSender(),i=t.getArgs();if(n.equalsIgnoreCase("tghug")){if(i.length!=1||r.equalsIgnoreCase(i[0])){$.say($.whisperPrefix(r)+$.lang.get("tghug.usage"));return}var s=$.tamagotchi.getByOwner(r),u=$.tamagotchi.getByOwner(i[0]);if(!s){$.tamagotchi.say404(r);return}if(!s.isHappy()){s.sayFunLevel();$.say($.lang.get("tghug.nothappy",s.name));return}s.incrExpLevel(e).incrFunLevel(a).decrFoodLevel(g).save();if(!u){$.say($.lang.get("tghug.gouser",s.name,$.resolveRank(i[0]),$.resolveRank(r)));return}u.incrFunLevel(a).save();$.say($.lang.get("tghug.go",s.name,u.name,u.getSexString()))}});$.bind("initReady",function(){if($.bot.isModuleEnabled("./games/tamagotchi/tg-hug.js")){$.registerChatCommand("./games/tamagotchi/tg-hug.js","tghug",6)}})})();