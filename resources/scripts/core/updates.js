(function(){if(!$.inidb.exists("updates","installedv2")||$.inidb.get("updates","installedv2")!="true"){Packages.com.gmt2001.Console.out.println("");Packages.com.gmt2001.Console.out.println("Starting PhantomBot version 2.0 updates...");Packages.com.gmt2001.Console.out.println("This can take several minutes...");Packages.com.gmt2001.Console.out.println("");var s=$.inidb.GetFileList(),e,t,n,o,i=["./games/8ball.js","./games/adventureSystem.js","./games/killCommand.js","./commands/topCommand.js","./games/random.js","./games/roll.js","./games/roulette.js","./games/slotMachine.js","./handlers/followHandler.js","./handlers/hostHandler.js","./handlers/subscribeHandler.js","./systems/cleanupSystem.js","./systems/greetingSystem.js","./systems/noticeSystem.js","./systems/pollSystem.js","./systems/quoteSystem.js","./systems/raffleSystem.js","./systems/raidSystem.js","./systems/youtubePlayer.js"];Packages.com.gmt2001.Console.out.println("Preparing to save commands, times and points...");Packages.com.gmt2001.Console.out.println("Saving custom commands...");e=a("command");Packages.com.gmt2001.Console.out.println("Saving times...");t=a("time");Packages.com.gmt2001.Console.out.println("Saving points...");n=a("points");Packages.com.gmt2001.Console.out.println("Removing old files...");for(o in s){$.inidb.RemoveFile(s[o])}Packages.com.gmt2001.Console.out.println("Restoring custom commands...");m("command",e);Packages.com.gmt2001.Console.out.println("Restoring times...");m("time",t);Packages.com.gmt2001.Console.out.println("Restoring points...");m("points",n);Packages.com.gmt2001.Console.out.println("Disabling some modules...");for(o in i){$.inidb.set("modules",i[o],"false")}$.inidb.set("updates","installedv2","true");Packages.com.gmt2001.Console.out.println("PhantomBot version 2.0 updates completed...");Packages.com.gmt2001.Console.out.println("Now proceeding with normal start up...")}function a(s){var e=[],t=$.inidb.GetKeyList(s,""),n,o;for(o in t){switch(s){case"time":n=parseInt($.inidb.get(s,t[o]));if(n>=600){e[t[o]]=$.inidb.get(s,t[o])}break;case"points":n=parseInt($.inidb.get(s,t[o]));if(n>=10){e[t[o]]=$.inidb.get(s,t[o])}break;default:e[t[o]]=$.inidb.get(s,t[o]);break}}return e}function m(s,e){var t;for(t in e){$.inidb.set(s,t,e[t])}}})();