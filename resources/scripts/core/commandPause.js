(function(){var e=false,a=$.inidb.exists("commandPause","defaultTime")?parseInt($.inidb.get("commandPause","defaultTime")):300,n=-1;function i(i){i=i?i:a;if(e){clearTimeout(n)}else{e=true}n=setTimeout(function(){t()},i*1e3);$.say($.lang.get("commandpause.initiated",$.getTimeString(i)))}function s(){return e}function t(){if(n>-1){clearTimeout(n);e=false;n=-1;$.say($.lang.get("commandpause.ended"))}}$.bind("command",function(e){var a=e.getCommand(),n=e.getArgs();if(a.equalsIgnoreCase("pausecommands")){if(n[0]!=undefined||n[0]!=null){if(n[0]=="clear"){t();return}if(!isNaN(parseInt(n[0]))){i(parseInt(n[0]))}else{i()}}}});$.bind("initReady",function(){if($.bot.isModuleEnabled("./core/commandPause.js")){$.registerChatCommand("./core/commandPause.js","pausecommands",2)}});$.commandPause={pause:i,isPaused:s,unPause:t}})();